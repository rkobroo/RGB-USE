<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="title" content="RKO BRODownloader - Powerful Video Downloader and Online Tools">
    <meta name="description" content="Download videos easily from various platforms with RKO Downloader. Your all-in-one video downloading and online tools solution.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="RKO Downloader, video downloader, download videos, online tools">
    <meta name="robots" content="index,follow">
    <meta name="author" content="RKO BRO">
    <meta property="og:title" content="RKO Downloader - Download Videos Easily and Quickly">
    <meta property="og:description" content="RKO Downloader makes downloading videos easy and quick. Get started now with this powerful tool.">
    <meta property="og:image" content="/VKrDownloader/logo.png">
    <meta property="og:url" content="/">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="RKO Downloader - Easy Video Downloads">
    <meta name="twitter:description" content="Use RKO Downloader for quick and easy video downloads from various platforms.">
    <meta name="twitter:image" content="/VKrDownloader/logo.png">    
    <link rel="icon" href="/logo.png" sizes="32x32" type="image/png">
    <link rel="shortcut icon" href="/logo.png" type="image/x-icon">  
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="manifest" href="./manifest.webmanifest">
    <script src="https://cdn.jsdelivr.net/npm/dompurify/dist/purify.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <title>RKO Downloader: Download Videos / Audio Online From Any Site</title>
</head>
<script>
    function getBodyBG() {
        const imageArray = [
            "https://img3.wallspic.com/crops/6/3/5/8/7/178536/178536-sunset-nature-dusk-water-cloud-1080x2160.jpg",
            "https://images.pexels.com/photos/2251798/pexels-photo-2251798.jpeg?cs=srgb&dl=pexels-markarronsmith-2251798.jpg&fm=jpg",
            "https://images.pexels.com/photos/937980/pexels-photo-937980.jpeg?cs=srgb&dl=pexels-kovyrina-937980.jpg&fm=jpg",
            "https://wallpapercave.com/wp/wp6974666.jpg",
            "https://www.pngmagic.com/product_images/sunset-hd-nature-background-for-photo-editing_l2f.jpeg",
            "https://e1.pxfuel.com/desktop-wallpaper/363/258/desktop-wallpaper-a-touch-of-light-here-and-there-best-whatsapp-dp.jpg",
            "https://images.pexels.com/photos/1707820/pexels-photo-1707820.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",
            "https://images.pexels.com/photos/1957693/pexels-photo-1957693.jpeg?cs=srgb&dl=pexels-markusspiske-1957693.jpg&fm=jpg",
            "https://i.pinimg.com/736x/a6/a2/c4/a6a2c43dd162b80261ad87be1c875965.jpg",
        ];

        if (imageArray.length === 0) return null;

        const randomKey = Math.floor(Math.random() * imageArray.length);
        const bbgimg = imageArray[randomKey];

        const style = `
            body {
                background-image: url('${bbgimg}');
                background-repeat: no-repeat;
                background-size: cover;
                background-position: center;
                min-height: 100vh;
                margin: 0; 
                padding: 0; 
            }
        `;

        const styleElement = document.createElement("style");
        styleElement.innerHTML = style;
        document.head.appendChild(styleElement);
    }

    getBodyBG();
</script>
<body>
    <header class="bg-dark text-white">
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <a class="navbar-brand" href="#"><img src="https://i.postimg.cc/kX8ddhnX/Untitled-design-20250423-001352-0000.png" style="width:40px; height:40px;border-radius:10px;box-shadow:3px 3px 10px yellow;"></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item active"><a class="nav-link" href="/">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="mailto:rkobro112@gmail.com">Service</a></li>
                    <li class="nav-item"><a class="nav-link" href="https://www.instagram.com/himalpaudel112/profilecard/?igsh=ZHl5MGlra2c5eDdw">Follow</a></li>
                    <li class="nav-item"><a class="nav-link" href="#" id="downloadAppLink">Download App</a></li>
                    <li class="nav-item"><a class="nav-link" href="/dark">Dark Theme</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <!-- Popup Modal -->
    <div id="popupModal" class="popup-modal">
        <div class="popup-content">
            <div class="popup-header">
                <h3>Quick Download</h3>
                <span class="close-btn" id="closePopup">√ó</span>
            </div>
            <div class="popup-body">
                <div class="input-container">
                    <input id="popupInput" type="url" class="popup-input" placeholder="Paste URL here...">
                </div>
                <div class="button-container">
                    <button id="pasteBtn" class="popup-btn paste-btn">Paste</button>
                    <button id="searchBtn" class="popup-btn search-btn">Search</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Install Prompt Modal -->
    <div id="installPromptModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 9999; justify-content: center; align-items: center;">
        <div style="background: white; border-radius: 15px; max-width: 400px; width: 90%; text-align: center; padding: 0; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
            <div style="padding: 30px 20px 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                <div style="width: 80px; height: 80px; background: #fff; border-radius: 15px; margin: 0 auto 15px; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
                    <img src="https://i.postimg.cc/kX8ddhnX/Untitled-design-20250423-001352-0000.png" style="width: 60px; height: 60px; border-radius: 10px;">
                </div>
                <h3 style="margin: 0; font-size: 22px; font-weight: bold;">RKO Downloader - Download Videos Seamlessly</h3>
                <p style="margin: 10px 0 0; font-size: 14px; opacity: 0.9;">Download videos from YouTube, Instagram, TikTok, Facebook and 1000+ other platforms</p>
            </div>
            <div style="padding: 25px 20px;">
                <button id="installAppBtn" style="width: 100%; background: #007AFF; color: white; border: none; padding: 15px; border-radius: 10px; font-size: 18px; font-weight: 600; cursor: pointer; margin-bottom: 15px; transition: all 0.3s ease;">Install</button>
                <button id="closeInstallPrompt" style="background: none; border: none; color: #666; font-size: 16px; cursor: pointer; padding: 10px;">Not now</button>
            </div>
        </div>
    </div>

    <div class="container mt-5">
        <div class="row">
            <div class="col-md-10 mx-auto">
                <div class="form-group">
                    <input id="inputUrl" type="url" class="form-control" placeholder="Enter URL">
                </div>
                <button id="downloadBtn" type="submit" class="btn btn-primary">Download</button>
            </div>
        </div>
        
        <div id="loading" class="text-center mt-3" style="display: none;">
            <div class="centerV">
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
            </div>
        </div>

        <div id="container" class="text-center mt-3" style="display: none;">
            <div id="thumb" class="mb-3"></div>
            <div id="title"></div>
            <div id="description" class="mt-3"></div>
            <div id="uploader"></div>
            <div id="duration"></div>
            <div id="extractor"></div>
            <div id="downloadURL"></div>
            <div id="download"></div>
        </div>

        <div id="content" class="text-center mt-5 p-4" style="background-color: #150707c7; border-radius: 10px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
            <h2 style="font-weight: 700; color: #fff;">RKO Downloader - Download Videos Seamlessly</h2>
            <p style="font-size: 1.1rem; color: #fff; margin-top: 10px;">
                RKO Downloader by RKO BRO is your ultimate tool for downloading online videos, thumbnails, and music. It's fast, free, and hassle-free!
            </p>
            <hr style="margin: 20px 0; border-top: 1px solid #ddd;">
            <h4 style="font-weight: 600; color: #c2c0c0;">Download from Your Favorite Platforms:</h4>
            <ul style="list-style: none; padding: 0; font-size: 1rem; color: #e6e0e0; line-height: 1.8;">
                <li>üé• YouTube</li>
                <li>üìò Facebook</li>
                <li>üê¶ Twitter</li>
                <li>üì∏ Instagram (Reels)</li>
                <li>üéµ TikTok</li>
                <li>üåê 1000+ other websites</li>
            </ul>
            <p style="font-size: 1rem; color: #eae4e4; margin-top: 15px;">
                Supports all audio and video qualities for the best experience.
            </p>
        </div>
    </div>
    <br>
    <footer class="bg-dark text-white text-center py-3 mt-10">
        Powered By Himal (RKO BRO)
    </footer>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js').then((registration) => {
                console.log('Service Worker Registered:', registration.scope);
            }).catch((error) => {
                console.error('Service Worker registration failed:', error);
            });
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://vkrdownloader.xyz/static/js/devdata.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script type="text/javascript" src="javascript.js"></script>
    <script>
        let deferredPrompt;
        let clipboardCheckInterval;
        let currentUrl = '';
        let autoDownloadEnabled = localStorage.getItem('autoDownloadEnabled') === 'true';

        const platforms = {
            'youtube.com': { name: 'YouTube', icon: 'üé¨', quality: 'best' },
            'youtu.be': { name: 'YouTube', icon: 'üé¨', quality: 'best' },
            'tiktok.com': { name: 'TikTok', icon: 'üéµ', quality: 'best' },
            'vt.tiktok.com': { name: 'TikTok', icon: 'üéµ', quality: 'best' },
            'instagram.com': { name: 'Instagram', icon: 'üì∏', quality: 'best' },
            'facebook.com': { name: 'Facebook', icon: 'üìò', quality: 'best' },
            'twitter.com': { name: 'Twitter', icon: 'üê¶', quality: 'best' },
            'x.com': { name: 'X (Twitter)', icon: 'üê¶', quality: 'best' }
        };

        function startClipboardMonitoring() {
            clipboardCheckInterval = setInterval(checkClipboard, 2000);
        }

        async function checkClipboard() {
            try {
                const text = await navigator.clipboard.readText();
                if (text && isValidUrl(text) && text !== currentUrl) {
                    currentUrl = text;
                    document.getElementById('inputUrl').value = text;
                    if (autoDownloadEnabled) {
                        showNotification('URL detected! Starting auto-download...', 0);
                        setTimeout(() => startAutoDownload(text), 1000);
                    } else {
                        showNotification('URL detected in clipboard!', 0);
                    }
                }
            } catch (err) {
                console.log('Clipboard access not available');
            }
        }

        function isValidUrl(string) {
            try {
                const url = new URL(string);
                return url.protocol === 'http:' || url.protocol === 'https:';
            } catch (_) {
                return false;
            }
        }

        async function startAutoDownload(url) {
            if (!url) return;
            try {
                showNotification('Fetching video information...', 10);
                const response = await fetch(`https://vkrdownloader.xyz/server?api_key=vkrdownloader&vkr=${encodeURIComponent(url)}`);
                if (!response.ok) throw new Error('Failed to fetch video data');
                showNotification('Processing video...', 30);
                const data = await response.json();
                showNotification('Preparing high quality download...', 50);
                let downloadUrl = data.data && data.data.downloads ? findBestQuality(data.data.downloads) : `https://vkrdownloader.xyz/server/dl.php?vkr=${encodeURIComponent(url)}`;
                showNotification('Starting download...', 70);
                const timestamp = new Date().toISOString().slice(0, 19).replace(/:/g, '-');
                const filename = `RKO_HD_${timestamp}.mp4`;
                try {
                    const response = await fetch(downloadUrl);
                    const blob = await response.blob();
                    const url = window.URL.createObjectURL(blob);
                    const link = document.createElement('a');
                    link.href = url;
                    link.download = filename;
                    link.style.display = 'none';
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    window.URL.revokeObjectURL(url);
                } catch (error) {
                    const link = document.createElement('a');
                    link.href = downloadUrl;
                    link.download = filename;
                    link.setAttribute('download', filename);
                    link.style.display = 'none';
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                }
                showNotification('Download completed! üéâ', 100);
            } catch (error) {
                console.error('Download error:', error);
                showNotification('Download failed: ' + error.message, 0);
            }
        }

        function findBestQuality(downloads) {
            const priorities = ['1080', '720', 'best'];
            for (const quality of priorities) {
                const match = downloads.find(d => d.format_id && d.format_id.includes(quality));
                if (match) return match.url;
            }
            return downloads[0]?.url;
        }

        function showNotification(text, progress = 0) {
            let notification = document.getElementById('autoDownloadNotification');
            if (!notification) {
                notification = document.createElement('div');
                notification.id = 'autoDownloadNotification';
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    left: 50%;
                    transform: translateX(-50%);
                    background: #1a1a1a;
                    color: white;
                    padding: 15px 20px;
                    border-radius: 10px;
                    box-shadow: 0 5px 20px rgba(0,0,0,0.3);
                    z-index: 1000;
                    display: none;
                    animation: slideDown 0.3s ease-out;
                `;
                const progressBar = document.createElement('div');
                progressBar.style.cssText = `width: 100%; height: 4px; background: #444; border-radius: 2px; overflow: hidden; margin: 10px 0 0 0;`;
                const progressFill = document.createElement('div');
                progressFill.id = 'autoDownloadProgress';
                progressFill.style.cssText = `height: 100%; background: linear-gradient(90deg, #4CAF50, #81C784); border-radius: 2px; width: 0%; transition: width 0.3s ease;`;
                progressBar.appendChild(progressFill);
                notification.appendChild(document.createElement('div'));
                notification.appendChild(progressBar);
                document.body.appendChild(notification);
            }
            notification.children[0].textContent = text;
            document.getElementById('autoDownloadProgress').style.width = progress + '%';
            notification.style.display = 'block';
            setTimeout(() => { notification.style.display = 'none'; }, 3000);
        }

        let installPromptShown = false;

        function isAppInstalled() {
            return window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone === true || document.referrer.includes('android-app://');
        }

        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            console.log('beforeinstallprompt event captured, deferredPrompt is ready:', deferredPrompt);
        });

        function showInstallPrompt() {
            if (isAppInstalled()) {
                showNotification('App is already installed!', 0);
                return;
            }

            console.log('Attempting to show install prompt, deferredPrompt:', deferredPrompt);
            installPromptShown = true;
            const modal = document.getElementById('installPromptModal');
            modal.style.display = 'flex';
            modal.style.opacity = '0';
            setTimeout(() => {
                modal.style.transition = 'opacity 0.3s ease';
                modal.style.opacity = '1';
            }, 10);
            setTimeout(() => { if (modal.style.display === 'flex') hideInstallPrompt(); }, 10000);
        }

        function hideInstallPrompt() {
            const modal = document.getElementById('installPromptModal');
            modal.style.transition = 'opacity 0.3s ease';
            modal.style.opacity = '0';
            setTimeout(() => { modal.style.display = 'none'; }, 300);
        }

        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('downloadAppLink').addEventListener('click', (e) => {
                e.preventDefault();
                console.log('Download App clicked, deferredPrompt:', deferredPrompt);
                showInstallPrompt();
            });

            document.getElementById('installAppBtn').addEventListener('click', async () => {
                hideInstallPrompt();
                if (deferredPrompt) {
                    try {
                        console.log('Triggering native install prompt');
                        const promptResult = await deferredPrompt.prompt();
                        console.log('Prompt result:', promptResult.outcome);
                        const choiceResult = await new Promise((resolve) => {
                            deferredPrompt.userChoice.then((choice) => resolve(choice));
                        });
                        console.log('User choice:', choiceResult.outcome);
                        if (choiceResult.outcome === 'accepted') {
                            showNotification('App installation started! üéâ', 100);
                        } else {
                            showNotification('Installation cancelled', 0);
                        }
                        deferredPrompt = null;
                    } catch (error) {
                        console.error('Install prompt error:', error);
                        showNotification('Installation failed - please try again or use browser menu (3 dots > Install App).', 0);
                    }
                } else {
                    console.log('No deferredPrompt available');
                    showNotification('No native install prompt available - please use browser menu (3 dots > Install App).', 0);
                }
            });

            document.getElementById('closeInstallPrompt').addEventListener('click', hideInstallPrompt);
            document.getElementById('installPromptModal').addEventListener('click', (e) => {
                if (e.target.id === 'installPromptModal') hideInstallPrompt();
            });

            document.getElementById('downloadBtn').addEventListener('click', () => {
                const popup = document.getElementById('popupModal');
                popup.style.display = 'flex';
                popup.style.opacity = '0';
                setTimeout(() => {
                    popup.style.transition = 'opacity 0.3s ease';
                    popup.style.opacity = '1';
                }, 10);
            });

            document.getElementById('closePopup').addEventListener('click', () => {
                const popup = document.getElementById('popupModal');
                popup.style.transition = 'opacity 0.3s ease';
                popup.style.opacity = '0';
                setTimeout(() => { popup.style.display = 'none'; }, 300);
            });

            document.getElementById('pasteBtn').addEventListener('click', async () => {
                try {
                    const text = await navigator.clipboard.readText();
                    document.getElementById('popupInput').value = text;
                } catch (err) {
                    console.log('Clipboard access not available');
                }
            });

            document.getElementById('searchBtn').addEventListener('click', () => {
                const url = document.getElementById('popupInput').value;
                if (isValidUrl(url)) {
                    document.getElementById('inputUrl').value = url;
                    startAutoDownload(url);
                    hidePopup();
                } else {
                    showNotification('Invalid URL!', 0);
                }
            });

            function hidePopup() {
                const popup = document.getElementById('popupModal');
                popup.style.transition = 'opacity 0.3s ease';
                popup.style.opacity = '0';
                setTimeout(() => { popup.style.display = 'none'; }, 300);
            }
        });

        window.addEventListener('appinstalled', () => {
            hideInstallPrompt();
            showNotification('App installed successfully! üéâ', 100);
            deferredPrompt = null;
        });

        window.addEventListener('load', function() {
            startClipboardMonitoring();
            const container = document.querySelector('.col-md-10.mx-auto');
            const toggleContainer = document.createElement('div');
            toggleContainer.style.cssText = 'margin-top: 10px; text-align: center;';
            toggleContainer.innerHTML = `
                <label style="color: white; display: flex; align-items: center; justify-content: center; gap: 10px;">
                    <input type="checkbox" id="autoDownloadToggle" ${autoDownloadEnabled ? 'checked' : ''} 
                           style="transform: scale(1.2);">
                    <span>Auto Download (High Quality)</span>
                </label>
            `;
            container.appendChild(toggleContainer);
            document.getElementById('autoDownloadToggle').addEventListener('change', function() {
                autoDownloadEnabled = this.checked;
                localStorage.setItem('autoDownloadEnabled', autoDownloadEnabled);
                showNotification(autoDownloadEnabled ? 'Auto-download enabled' : 'Auto-download disabled', 0);
            });
        });

        window.addEventListener('beforeunload', function() {
            if (clipboardCheckInterval) clearInterval(clipboardCheckInterval);
        });
    </script>
</body>
</html>
